(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){e.exports=a(279)},108:function(e,t,a){},276:function(e,t,a){},279:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),c=a(99),o=a.n(c),i=(a(108),a(16)),l=a(11),s=function(e){var t=Object(n.useState)(null),a=Object(i.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)(function(){fetch("https://uqx0e6l8i0.execute-api.eu-central-1.amazonaws.com/dev/thing/"+e,{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors"}).then(function(e){return e.json()}).then(function(t){var a=t.projectItems,n=t.allProjects,r=a.reduce(function(e,t){var a=Object(l.parse)(Object(l.format)(new Date(t.from),"YYYY-MM-DD")+"T00:00:00");return void 0===e[a]&&(e[a]=[]),e[a].push(t),e},{}),o=Object.keys(r).map(function(e){return{date:e,data:r[e]}});o.sort(function(e,t){return e.date<=t.date?e.date<t.date?-1:0:-1}),c({thing:e,projectData:o,allProjects:n})})},[]),r},u=a(8),d=a(102),m=a(54),f=a(100),h=function(e){var t=e.scale,a=e.transform,c=e.gridline,o=e.className,i=t.domain()[0],s=t.domain()[1],d=t.range()[1],m=new Array(Object(l.differenceInHours)(s,i)).fill(0).map(function(e,t){return Object(l.addHours)(i,t)}).concat(s);return r.a.createElement(u.Group,{transform:a,className:o},r.a.createElement(u.Line,{x1:0,y1:0,x2:d,y2:0,stroke:"black",strokeWidth:1,className:"axis"}),m.map(function(e,a){var o=t(e);return r.a.createElement(n.Fragment,{key:a},r.a.createElement(u.Line,{x1:o,x2:o,y1:0,y2:5,className:"tick"}),r.a.createElement(u.Text,{className:"tick-label",x:o,y:13,textAnchor:a>0?a<m.length-1?"middle":"end":"start"},Object(l.format)(e,"HH:mm")),void 0===c?null:r.a.createElement(u.Line,{x1:o,x2:o,y1:-c,y2:0,stroke:"lightgrey",strokeWidth:1,className:"gridline"}))}))},j=function(e){var t=e.scale,a=e.transform,c=e.gridline,o=e.className,i=t.domain(),l=t.range();return r.a.createElement(u.Group,{transform:a,className:o},r.a.createElement(u.Line,{x1:0,x2:0,y1:l[0],y2:l[1],stroke:"black",strokeWidth:1}),i.map(function(e,a){var o=t(e);return r.a.createElement(n.Fragment,{key:a},r.a.createElement(u.Line,{x1:0,x2:-5,y1:o,y2:o,stroke:"black",strokeWidth:1,className:"tick"}),r.a.createElement(u.Text,{className:"tick-label",x:-7,y:o,textAnchor:"end",alignmentBaseline:"central"},e),void 0===c?null:r.a.createElement(u.Line,{x1:0,x2:c,y1:o,y2:o,className:"gridline"}))}))},b=(a(276),a(32)),g=function(e){var t=e.x,a=e.y,c=e.width,o=e.date,s=e.data,d=e.projectScale,g=function(e){var t=e.from,a=e.to,r=e.width,c=Object(n.useState)({scale:Object(b.c)().domain([t,a])}),o=Object(i.a)(c,2),l=o[0],s=o[1];return Object(n.useEffect)(function(){s({scale:l.scale.range([0,r])})},[r]),l.scale}({width:c,from:Object(l.addHours)(o,7),to:Object(l.addHours)(o,18)}),E=function(e){var t=e.values,a=e.range,r=Object(n.useState)({scale:Object(b.a)().domain(t).range(a).round(!0).padding(.3)});return Object(i.a)(r,1)[0].scale}({values:d.domain(),range:[0,100]}),p=E.bandwidth(),v=s.map(function(e,t){return Object(m.a)({key:""+t},e)});return r.a.createElement(u.Group,{transform:{translate:[t,a]}},r.a.createElement(u.Text,{y:-2,x:5},Object(l.format)(o,"ddd\tDD\tMMM")),r.a.createElement(h,{scale:g,transform:{translate:[0,100]},gridline:60,className:"x-axis"}),r.a.createElement(j,{scale:E,gridline:c,className:"y-axis"}),r.a.createElement(f.Collection,{data:v,nodeEnter:function(e){return Object(m.a)({},e,{to:e.from})},animate:!0},function(e){return e.map(function(e){var t=e.key,a=e.from,n=e.to,c=e.projectName,o=g(new Date(a)),i=g(new Date(n))-o,l=E(c);return r.a.createElement(u.Rect,{key:t,x:o,y:l-p/2,width:i,height:p,fill:d(c)})})}))},E=function(e){var t=e.data,a=e.width,c=t.allProjects,o=t.projectData,l=function(e){var t=e.values,a=e.range,r=Object(n.useState)({scale:Object(b.b)().domain(t).range(a)});return Object(i.a)(r,1)[0].scale}({values:c,range:d.a}),s=30,m=130,f=30,h=s+0+160*o.length;return r.a.createElement(u.Svg,{height:h,width:a},o.length>0?o.map(function(e,t){return r.a.createElement(g,{x:m,y:160*t+s,width:a-m-f,key:e.date,date:e.date,data:e.data,projectScale:l})}):null)},p=a(101),v=a.n(p),w=function(e){var t=s("tasker"),a=function(){var e=Object(n.useState)(window.innerWidth),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)(function(){window.addEventListener("resize",v()(function(){r(window.innerWidth)},500))},[]),a}();return r.a.createElement("div",null,r.a.createElement("section",null,null!==t?r.a.createElement(E,{data:t,width:a}):null))},y=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[103,2,1]]]);
//# sourceMappingURL=main.38c3c08c.chunk.js.map